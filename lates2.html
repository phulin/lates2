<head>
	<title>Request Late</title>
</head>

<body>
  {{> late_list}}
</body>

<template name="late_list">
<div id="late-list-container">
<h1>Lates for {{today}}</h1>
{{#if has_lates}}
	<ul id="late-list">
		{{#each todays_lates}}
			{{> late}}
		{{/each}}
	</ul>
{{else}}
	<div id="no-lates">
		{{#if loading}}
			Loading...
		{{else}}
			No lates (yet) today!
		{{/if}}
	</div>
{{/if}}

{{#if can_modify}}
	<div id="request-container">
	<form method="POST" action="" id="request">
			Name: <input type="text" id="name" name="name" />
			Refrigerated: <input type="checkbox" id="refrigerated" name="refrigerated" checked="checked" />
			Vegetarian: <input type="checkbox" id="veggie" name="veggie" />
			<input type="submit" id="request-submit" value="Submit" />
	</form>
	</div>
{{/if}}

<div id="nav-container">
	<a href="prev" id="prev" style="float: left;">Previous Day</a>
	<a href="next" id="next" style="float: right;">Next Day</a>
	<a href="today" id="today">Today</a>
</div>
</div>
</template>

<template name="late">
	<li class="late-item" id="{{_id}}">
		<span class="late-name">{{name}}</span>
		<div class="late-line2">
			<span class="late-properties">
				{{#if refrigerated}}
					<span class="refrigerated">Refrigerated</span>
				{{else}}
					Unrefrigerated
				{{/if}}
				{{#if veggie}}
					<span class="veggie">Vegetarian</span>
				{{/if}}
			</span>
			{{#if can_modify}}
				<span class="late-cancel">
						<a href="about:blank" class="late-cancel-link">Cancel</a>
				</span>
			{{/if}}
		</div>
		<div class="clear"></div>
	</li>
</template>
